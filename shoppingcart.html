<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saturday |  NewIN</title>
    <link rel="stylesheet" href="style.css">
    <!--linking to another external to get images for ICON-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href='https://fonts.googleapis.com/css?family=Boogaloo' rel='stylesheet'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Trirong">
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Afacad' rel='stylesheet'>
    <!-- favicon -->

</head>
<body class="">
  <header>
    <!-- <div class="top">
      <a href="register.html"><p>Welcome to Shoe, register now to get 10% off first purchase</p></a>
    </div> -->
    <nav class="navbar" style="background-color: white;">
      <a class="logo" href="Index.html" style="color: black;"><i class="fa fa-slideshare"></i>&nbsp;Saturday<span>.</span></a>
      <ul class="menu-links">
        <span id="close-menu-btn" class="material-symbols-outlined">close</span>
        <li><a href="Index.html" style="color: black;">HOME</a></li>
        <li><a href="NEWIN.html"style="color: black;">NEW IN</a></li>
        <li><a href="bags.html"style="color: black;">BAGS</a></li>
        <li><a href="shoe.html"style="color: black;">SHOES</a></li>
        <li><a href="Games.html"style="color: black;">GET $100</a></li>
        <li><a href="ContactUs.html"style="color: black;">CONTACT US</a></li>
        <li><a href="Login.html"style="color: black;" id="navbar-login">LOG IN </a></li>
        <li><a href="Register.html"style="color: black;" id="navbar-signup">SIGN UP </a></li>
        <li><a href="gamestoearnpoints.html" id="gamestoearn" style="display: none; color: black;" ><i class="fa fa-gamepad" style="font-size: 15px;"></i></a></li>
        <li><a href="account.html" id="navbar-account" style="display: none; color: black;"><i class="fa fa-user" style="font-size: 15px;" ></i></a></li>
        <li><a href="shoppingcart.html" style="color: black;">  <i style="margin-right: 1%; font-size: 15px;" class="fa-solid fa-cart-shopping justify-content-end fa-xl" ></i></a></li>
        
      </ul>
      <span id="hamburger-btn" class="material-symbols-outlined">menu</span>
    </nav>
    
  </header>


  <br><br><br><br><br><br><br>


<!-- shooping cart  -->
<div id="shopping-cart">
    <h2>Shopping Cart</h2>
    <table>

      <thead>
        <tr>
        <th><strong>Image</strong></th>
        <th><strong>Product</strong></th>
        <th><strong>Price</strong></th>
      </tr>
      </thead>

      <!-- products -->
      <tbody id="carttable">
        <div class="quantityIncrement">
            
        </div>
        <div class="quantityDecrement">
            
        </div>
        <div class="removeBtn">
            
        </div>
      </tbody> 
      

    </table>
    <hr>

    <table id="carttotals">
      <tr>
        <td><strong>Items</strong></td>
        <td><strong>Total</strong></td>
      </tr>
      <tr>
        <td>x <span id="itemsquantity">0</span></td>
       
        <td>$<span id="total">0</span></td>

      </tr>
    </table>

    <div class="cart-buttons"> 
      
      <button id="checkout">Checkout</button>
    </div>

  </div>
</div>




<!-- footer  -->
<footer>
<div class="footer">
<div class="row">
<a href="#"><i class="fa fa-facebook"></i></a>
<a href="#"><i class="fa fa-instagram"></i></a>
<a href="#"><i class="fa fa-youtube"></i></a>
<a href="#"><i class="fa fa-twitter"></i></a>
</div>

<div class="row">
<ul>
<li><a href="#">Contact us</a></li>
<li><a href="#">Our Services</a></li>
<li><a href="#">Privacy Policy</a></li>
<li><a href="#">Terms & Conditions</a></li>
<li><a href="#">Career</a></li>
</ul>
</div>

<div class="row">
INFERNO Copyright Â© 2024 Saturday.- All rights reserved 
</div>
</div>
</footer>

<!-- Your existing shoppingcart.html code ... -->
<script>
document.addEventListener('DOMContentLoaded', function () {
  loadCartState();
});

function loadCartState() {
  var items = getCartItems();
  items.forEach(function (item) {
    renderCartItem(item);
  });
  updateCartTotals();
}

function renderCartItem(item) {
  var newRow = document.createElement('tr');
  var imageCell = document.createElement('td');
  var imageElement = document.createElement('img');
  imageElement.src = item.image;
  imageElement.alt = item.name;
  imageElement.style.width = '50px'; // Adjust the image size as needed
  imageCell.appendChild(imageElement);

  var nameCell = document.createElement('td');
  nameCell.textContent = item.name;

  var priceCell = document.createElement('td');
  priceCell.textContent = '$' + item.price.toFixed(2);

  var quantityCell = document.createElement('td');
  quantityCell.textContent = item.quantity;

  var incrementCell = createQuantityButton('+', function () {
    item.quantity++;
    quantityCell.textContent = item.quantity;
    updateCartTotals();
  });

  var decrementCell = createQuantityButton('-', function () {
    if (item.quantity > 1) {
      item.quantity--;
      quantityCell.textContent = item.quantity;
      updateCartTotals();
    }
  });

  var deleteCell = document.createElement('td');
  var deleteButton = document.createElement('button');
  deleteButton.textContent = 'Remove';
  deleteButton.addEventListener('click', function () {
    deleteCartItem(newRow);
  });
  deleteCell.appendChild(deleteButton);

  newRow.appendChild(imageCell);
  newRow.appendChild(nameCell);
  newRow.appendChild(priceCell);
  newRow.appendChild(quantityCell);
  newRow.appendChild(incrementCell);
  newRow.appendChild(decrementCell);
  newRow.appendChild(deleteCell);

  document.getElementById('carttable').appendChild(newRow);
}

function updateCartTotals() {
  var items = document.querySelectorAll('#carttable tr');
  var total = 0;
  var itemCount = 0;

  items.forEach(function (item) {
    var price = parseFloat(item.cells[2].textContent.replace('$', ''));
    var quantity = parseInt(item.cells[3].textContent);
    total += price * quantity;
    itemCount += quantity;
  });

  document.getElementById('itemsquantity').textContent = itemCount;
  document.getElementById('total').textContent = total.toFixed(2);
}

function createQuantityButton(text, clickHandler) {
  var cell = document.createElement('td');
  var button = document.createElement('button');
  button.textContent = text;
  button.addEventListener('click', clickHandler);
  cell.appendChild(button);
  return cell;
}

function deleteCartItem(row) {
  var itemName = row.cells[0].textContent; // Assuming the name is in the second cell
  var items = getCartItems();

  // Find the index of the item to be removed in the array
  var itemIndex = items.findIndex(function (item) {
    return item.name === itemName;
  });

  if (itemIndex !== -1) {
    // Remove the item from the array
    items.splice(itemIndex, 1);

    // Save the updated items back to local storage
    saveCartItems(items);
  }

  // Remove the row from the HTML
  row.remove();
  updateCartTotals();
}

function getCartItems() {
  var cartItems = localStorage.getItem('cart');
  return cartItems ? JSON.parse(cartItems) : [];
}
</script>

<script src="Script.js"></script>
<script src="api.js"></script>
</body>
</html>